(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9978:function(e,s,n){Promise.resolve().then(n.bind(n,8842))},8842:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return I}});var t=n(7437),i=n(6817),d=n(3302),l=n(276),r=n(9116),a=n(2639),c=n(4702),h=n(8212),o=n(3010),x=n(329),j=n(2173),u=n(2853);let p=e=>j.Z.get(e).then(e=>e.data),Z=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e5,{data:n,error:t}=(0,u.ZP)(e,p,{refreshInterval:s,shouldRetryOnError:!1});return{data:n,isLoading:!t&&!n,isError:t}},v=()=>Z("".concat("https://api-namada.cosmostation.io","/chain_info")),_=()=>Z("".concat("https://api-namada.cosmostation.io","/tx/shielded")),g=()=>{let{data:e}=_(),{data:s}=v();return(0,t.jsxs)(l.Z,{spacing:3,children:[(0,t.jsxs)(l.Z,{spacing:1,children:[(0,t.jsx)(r.ZP,{level:"title-lg",children:"Chain Infos"}),(0,t.jsxs)(x.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Key"}),(0,t.jsx)("th",{children:"Value"})]})}),(0,t.jsx)("tbody",{children:s&&Object.keys(s).map((e,n)=>{let i=s[e];return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e}),(0,t.jsx)("td",{children:i})]},n)})})]})]}),(0,t.jsxs)(l.Z,{spacing:1,children:[(0,t.jsx)(r.ZP,{level:"title-lg",children:"Sheilded Assets"}),(0,t.jsxs)(x.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Key"}),(0,t.jsx)("th",{children:"Value"})]})}),(0,t.jsx)("tbody",{children:e&&e.shielded_assets&&Object.keys(e.shielded_assets).map((s,n)=>{let i=e.shielded_assets[s];return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:s}),(0,t.jsx)("td",{children:i})]},n)})})]})]})]})};var m=n(3408),f=n(8662),b=n(2265);let y=()=>{let[e,s]=(0,b.useState)(""),[n,i]=(0,b.useState)(),d=async()=>{try{let s=await j.Z.get("".concat("https://api-namada.cosmostation.io","/block/height/").concat(e));i(s.data)}catch(e){}try{let s=await j.Z.get("".concat("https://api-namada.cosmostation.io","/tx/").concat(e));i(s.data)}catch(e){}};return(0,t.jsxs)(l.Z,{spacing:3,children:[(0,t.jsxs)(l.Z,{spacing:2,children:[(0,t.jsx)(r.ZP,{level:"title-lg",children:"Search"}),(0,t.jsxs)(l.Z,{direction:"row",spacing:1,children:[(0,t.jsx)(m.ZP,{sx:{width:"300px"},placeholder:"Input tx hash or block height.",value:e,onChange:e=>s(e.target.value)}),(0,t.jsx)(f.Z,{onClick:d,children:"Search"})]})]}),(0,t.jsx)("pre",{children:(0,t.jsx)("code",{children:JSON.stringify(n,null,2)})})]})};var k=n(2532);let w=e=>{try{return e?"".concat(e.substring(0,7),"...").concat(e.substring(e.length-7)):null}catch(s){return e}},P=()=>Z("".concat("https://api-namada.cosmostation.io","/validator_siging_infos")),S=()=>{let[e,s]=(0,b.useState)([]),[n,t]=(0,b.useState)(!0),[i,d]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{let e=async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let i="".concat("https://rpc-namada.cosmostation.io","/validators?per_page=100&page=").concat(n),d=await p(i),l=d.result.validators;l.length>0?(s(e=>[...e,...l]),100===l.length?e(n+1):t(!1)):t(!1)}catch(e){console.error("Failed to fetch validators",e),d(!0),t(!1)}};e()},[]),{validators:e,isLoading:n,isError:i}},C=()=>Z("https://namada.info/shielded-expedition.88f17d1d14/output/genesis_tm_address_to_alias.json"),E=()=>{let[e,s]=(0,b.useState)([]),{validators:n}=S(),{data:i}=P(),{data:a}=v(),{data:c}=C();return(0,b.useEffect)(()=>{if(!i||!c||!n)return;let e=n.map(e=>{let s=i.find(s=>s.tendermint_address===e.address),n=c[e.address],t={address:e.address,voting_power:e.voting_power,proposer_priority:e.proposer_priority,missed_blocks:null==s?void 0:s.missed_block_counter,alias:null==n?void 0:n.alias,nam_address:null==n?void 0:n.nam_address,net_address:null==n?void 0:n.net_address};return t});s(e)},[i,c]),(0,t.jsxs)(l.Z,{spacing:3,children:[a&&(0,t.jsxs)(k.Z,{container:!0,spacing:1,children:[(0,t.jsx)(k.Z,{xs:3,children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(r.ZP,{level:"body-sm",children:"Current Epoch"}),(0,t.jsx)(r.ZP,{level:"h4",children:a.current_epoch})]})}),(0,t.jsx)(k.Z,{xs:3,children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(r.ZP,{level:"body-sm",children:"Liveness Window Check"}),(0,t.jsx)(r.ZP,{level:"h4",children:a.liveness_window_check})]})}),(0,t.jsx)(k.Z,{xs:3,children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(r.ZP,{level:"body-sm",children:"Liveness Threshold"}),(0,t.jsx)(r.ZP,{level:"h4",children:a.liveness_threshold})]})}),(0,t.jsx)(k.Z,{xs:3,children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(r.ZP,{level:"body-sm",children:"Missing Vote Threshold"}),(0,t.jsx)(r.ZP,{level:"h4",children:((1-a.liveness_threshold)*a.liveness_window_check).toFixed()})]})})]}),(0,t.jsxs)(l.Z,{spacing:1,children:[(0,t.jsx)(r.ZP,{level:"title-lg",children:"Validators"}),(0,t.jsxs)(x.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Moniker"}),(0,t.jsx)("th",{children:"Validator Address"}),(0,t.jsx)("th",{children:"Tendermint Address"}),(0,t.jsx)("th",{children:"Epoch Uptime"}),(0,t.jsx)("th",{children:"Missing Count"}),(0,t.jsx)("th",{children:"Voting Power"})]})}),(0,t.jsx)("tbody",{children:e&&a&&e.map((e,s)=>{var n;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:null!==(n=e.alias)&&void 0!==n?n:w(e.address)}),(0,t.jsx)("td",{children:w(e.address)}),(0,t.jsx)("td",{children:e.nam_address?w(e.nam_address):"-"}),(0,t.jsxs)("td",{children:[(100-e.missed_blocks/a.liveness_window_check*100).toFixed(1),"%"]}),(0,t.jsxs)("td",{children:[e.missed_blocks," /"," ",a.liveness_window_check]}),(0,t.jsx)("td",{children:function(e,s,n){let t=parseFloat((e/1e6).toFixed(2)).toLocaleString();return t}(e.voting_power,0,0)})]},s)})})]})]})]})};var I=function(){let[e,s]=(0,b.useState)(0);return(0,t.jsx)(i.Z,{children:(0,t.jsx)(d.Z,{sx:{m:5},children:(0,t.jsxs)(l.Z,{spacing:3,children:[(0,t.jsx)(r.ZP,{level:"h1",children:"Namada Tools ⚒️"}),(0,t.jsxs)(a.Z,{value:e,onChange:(e,n)=>s(n),children:[(0,t.jsxs)(c.Z,{disableUnderline:!0,sx:{mb:3},children:[(0,t.jsx)(h.Z,{disableIndicator:!0,children:"Validators"}),(0,t.jsx)(h.Z,{disableIndicator:!0,children:"Namada Infos"}),(0,t.jsx)(h.Z,{disableIndicator:!0,children:"Transaction, Block"})]}),(0,t.jsx)(o.Z,{value:0,children:(0,t.jsx)(E,{})}),(0,t.jsx)(o.Z,{value:1,children:(0,t.jsx)(g,{})}),(0,t.jsx)(o.Z,{value:2,children:(0,t.jsx)(y,{})})]})]})})})}}},function(e){e.O(0,[600,454,971,864,744],function(){return e(e.s=9978)}),_N_E=e.O()}]);