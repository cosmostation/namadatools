(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9978:function(e,s,t){Promise.resolve().then(t.bind(t,6081))},6081:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var n=t(7437),i=t(6817),l=t(3302),r=t(276),a=t(9116),d=t(3006),c=t(2639),h=t(4702),o=t(8212),x=t(3010),j=t(3408),u=t(8662),p=t(2173),Z=t(2265);let v=()=>{let[e,s]=(0,Z.useState)(""),[t,i]=(0,Z.useState)(),[l,d]=(0,Z.useState)(""),c=async()=>{try{let s=await p.Z.get("".concat("https://api-namada.cosmostation.io","/block/height/").concat(e));i(s.data),d("Block Search Result");return}catch(e){}};return(0,n.jsxs)(r.Z,{spacing:3,children:[(0,n.jsxs)(r.Z,{spacing:2,children:[(0,n.jsx)(a.ZP,{level:"title-lg",children:"Search Block"}),(0,n.jsxs)(r.Z,{direction:"row",spacing:1,children:[(0,n.jsx)(j.ZP,{sx:{width:"300px"},placeholder:"Input block height.",value:e,onChange:e=>s(e.target.value)}),(0,n.jsx)(u.Z,{onClick:c,children:"Search"})]})]}),(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(a.ZP,{level:"title-md",children:l}),(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:JSON.stringify(t,null,2)})})]})]})};var g=t(329),_=t(2853);let m=e=>p.Z.get(e).then(e=>e.data),b=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e5,{data:t,error:n}=(0,_.ZP)(e,m,{refreshInterval:s,shouldRetryOnError:!1});return{data:t,isLoading:!n&&!t,isError:n}},f=()=>b("".concat("https://api-namada.cosmostation.io","/chain_info")),k=()=>b("".concat("https://api-namada.cosmostation.io","/tx/shielded")),w=()=>{let{data:e}=k(),{data:s}=f();return(0,n.jsxs)(r.Z,{spacing:3,children:[(0,n.jsxs)(r.Z,{spacing:1,children:[(0,n.jsx)(a.ZP,{level:"title-lg",children:"Chain Infos"}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Key"}),(0,n.jsx)("th",{children:"Value"})]})}),(0,n.jsx)("tbody",{children:s&&Object.keys(s).map((e,t)=>{let i=s[e];return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e}),(0,n.jsx)("td",{children:i})]},t)})})]})]}),(0,n.jsxs)(r.Z,{spacing:1,children:[(0,n.jsx)(a.ZP,{level:"title-lg",children:"Sheilded Assets"}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Key"}),(0,n.jsx)("th",{children:"Value"})]})}),(0,n.jsx)("tbody",{children:e&&e.shielded_assets&&Object.keys(e.shielded_assets).map((s,t)=>{let i=e.shielded_assets[s];return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:s}),(0,n.jsx)("td",{children:i})]},t)})})]})]})]})},y=()=>{let[e,s]=(0,Z.useState)(""),[t,i]=(0,Z.useState)(),[l,d]=(0,Z.useState)(),[c,h]=(0,Z.useState)(""),o=async()=>{try{let s=await p.Z.get("".concat("https://api-namada.cosmostation.io","/tx/").concat(e));i(s.data),s.data.wrapper_id;let t=await p.Z.get("".concat("https://api-namada.cosmostation.io","/wrapped_tx/").concat(e));d(t.data),h("Transaction Search Result");return}catch(e){}};return(0,n.jsxs)(r.Z,{spacing:3,children:[(0,n.jsxs)(r.Z,{spacing:2,children:[(0,n.jsx)(a.ZP,{level:"title-lg",children:"Search Transaction"}),(0,n.jsxs)(r.Z,{direction:"row",spacing:1,children:[(0,n.jsx)(j.ZP,{sx:{width:"300px"},placeholder:"Input tx hash.",value:e,onChange:e=>s(e.target.value)}),(0,n.jsx)(u.Z,{onClick:o,children:"Search"})]})]}),(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(a.ZP,{level:"title-md",children:c}),(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:JSON.stringify(t,null,2)})})]}),l&&(0,n.jsxs)(r.Z,{children:[(0,n.jsx)(a.ZP,{level:"title-md",children:"Decrypted Transaction"}),(0,n.jsx)("pre",{children:(0,n.jsx)("code",{children:JSON.stringify(l,null,2)})})]})]})};var S=t(2532);let P=e=>{try{return e?"".concat(e.substring(0,7),"...").concat(e.substring(e.length-7)):null}catch(s){return e}},C=()=>b("".concat("https://api-namada.cosmostation.io","/validator_siging_infos")),T=()=>{let[e,s]=(0,Z.useState)([]),[t,n]=(0,Z.useState)(!0),[i,l]=(0,Z.useState)(!1);return(0,Z.useEffect)(()=>{let e=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let i="".concat("https://rpc-namada.cosmostation.io","/validators?per_page=100&page=").concat(t),l=await m(i),r=l.result.validators;r.length>0?(s(e=>[...e,...r]),100===r.length?e(t+1):n(!1)):n(!1)}catch(e){console.error("Failed to fetch validators",e),l(!0),n(!1)}};e()},[]),{validators:e,isLoading:t,isError:i}},I=()=>b("https://namada.info/shielded-expedition.88f17d1d14/output/genesis_tm_address_to_alias.json"),E=()=>{let[e,s]=(0,Z.useState)([]),{validators:t}=T(),{data:i}=C(),{data:d}=f(),{data:c}=I();return(0,Z.useEffect)(()=>{if(!t||!c)return;let e=t.map(e=>{let s=null==i?void 0:i.find(s=>s.tendermint_address===e.address),t=c[e.address],n={address:e.address,voting_power:e.voting_power,proposer_priority:e.proposer_priority,missed_blocks:null==s?void 0:s.missed_block_counter,alias:null==t?void 0:t.alias,nam_address:null==s?void 0:s.validator_address};return n});s(e)},[t,i,c]),(0,n.jsxs)(r.Z,{spacing:3,children:[d&&(0,n.jsxs)(S.Z,{container:!0,spacing:1,children:[(0,n.jsx)(S.Z,{xs:3,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(a.ZP,{level:"body-sm",children:"Current Epoch"}),(0,n.jsx)(a.ZP,{level:"h4",children:d.current_epoch})]})}),(0,n.jsx)(S.Z,{xs:3,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(a.ZP,{level:"body-sm",children:"Liveness Window Check"}),(0,n.jsx)(a.ZP,{level:"h4",children:d.liveness_window_check})]})}),(0,n.jsx)(S.Z,{xs:3,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(a.ZP,{level:"body-sm",children:"Liveness Threshold"}),(0,n.jsx)(a.ZP,{level:"h4",children:d.liveness_threshold})]})}),(0,n.jsx)(S.Z,{xs:3,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(a.ZP,{level:"body-sm",children:"Missing Vote Threshold"}),(0,n.jsx)(a.ZP,{level:"h4",children:((1-d.liveness_threshold)*d.liveness_window_check).toFixed()})]})})]}),(0,n.jsxs)(r.Z,{spacing:1,children:[(0,n.jsx)(a.ZP,{level:"title-lg",children:"Validators"}),(0,n.jsxs)(g.Z,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Moniker"}),(0,n.jsx)("th",{children:"Validator Address"}),(0,n.jsx)("th",{children:"Tendermint Address"}),(0,n.jsx)("th",{children:"Epoch Uptime"}),(0,n.jsx)("th",{children:"Missing Count"}),(0,n.jsx)("th",{children:"Voting Power"})]})}),(0,n.jsx)("tbody",{children:e&&d&&e.map((e,s)=>{var t;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:null!==(t=e.alias)&&void 0!==t?t:P(e.address)}),(0,n.jsx)("td",{children:P(e.address)}),(0,n.jsx)("td",{children:e.nam_address?P(e.nam_address):"-"}),(0,n.jsx)("td",{children:e.missed_blocks?"".concat((100-e.missed_blocks/d.liveness_window_check*100).toFixed(1),"\n                      %"):"-"}),(0,n.jsx)("td",{children:e.missed_blocks?"".concat(e.missed_blocks," / ").concat(d.liveness_window_check):"-"}),(0,n.jsx)("td",{children:function(e,s,t){let n=parseFloat((e/1e6).toFixed(2)).toLocaleString();return n}(e.voting_power,0,0)})]},s)})})]})]})]})},L=()=>b("".concat("https://rpc-namada.cosmostation.io","/status"));var N=function(){let[e,s]=(0,Z.useState)(0),{data:t}=L();return(0,n.jsx)(i.Z,{children:(0,n.jsx)(l.Z,{sx:{m:5},children:(0,n.jsxs)(r.Z,{spacing:3,children:[(0,n.jsxs)(r.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(a.ZP,{level:"h1",children:"Namada Tools ⚒️"}),(0,n.jsxs)(a.ZP,{level:"body-sm",children:[t&&Math.abs(new Date(t.result.sync_info.latest_block_time).getTime()-new Date().getTime())>6e5?(0,n.jsx)(d.Z,{color:"danger",variant:"solid",children:"Halt"}):(0,n.jsx)(d.Z,{color:"success",variant:"solid",children:"Live"}),(0,n.jsx)("br",{}),"Last Block Height:",t&&t.result.sync_info.latest_block_height,(0,n.jsx)("br",{}),"Last Block Time:",t&&new Date(t.result.sync_info.latest_block_time).toLocaleString()]})]}),(0,n.jsxs)(c.Z,{value:e,onChange:(e,t)=>s(t),children:[(0,n.jsxs)(h.Z,{disableUnderline:!0,sx:{mb:3},children:[(0,n.jsx)(o.Z,{disableIndicator:!0,children:"Validators"}),(0,n.jsx)(o.Z,{disableIndicator:!0,children:"Namada Infos"}),(0,n.jsx)(o.Z,{disableIndicator:!0,children:"Block"}),(0,n.jsx)(o.Z,{disableIndicator:!0,children:"Transaction"})]}),(0,n.jsx)(x.Z,{value:0,children:(0,n.jsx)(E,{})}),(0,n.jsx)(x.Z,{value:1,children:(0,n.jsx)(w,{})}),(0,n.jsx)(x.Z,{value:2,children:(0,n.jsx)(v,{})}),(0,n.jsx)(x.Z,{value:3,children:(0,n.jsx)(y,{})})]})]})})})}}},function(e){e.O(0,[600,381,971,864,744],function(){return e(e.s=9978)}),_N_E=e.O()}]);